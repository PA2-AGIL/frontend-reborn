(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[443],{9660:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/perguntas",function(){return n(3188)}])},6673:function(e,t,n){"use strict";var r=n(5893);n(7294);t.Z=function(){return(0,r.jsx)("div",{className:"text-center bg-teal-500 p-5",children:(0,r.jsx)("p",{className:"font-semibold text-white",children:"2022"})})}},7056:function(e,t,n){"use strict";var r=n(5893);n(7294);t.Z=function(e){var t=e.pageNum,n=e.setPage,a=e.disable;return(0,r.jsxs)("div",{className:"flex justify-center",children:[(0,r.jsx)("button",{className:"text-md font-semibold my-3 mx-2 py-2 px-5 border rounded bg-teal-500 text-white hover:cursor-pointer",disabled:t-1===0,onClick:function(){return n(t-1)},children:"Anterior"}),(0,r.jsx)("div",{className:"text-md font-semibold my-3 mx-2 py-2 px-5 border-2 rounded border-teal-500 bg-transparent text-teal-500 hover:cursor-pointer",children:t}),(0,r.jsx)("button",{className:"text-md font-semibold my-3 mx-2 py-2 px-5 border rounded bg-teal-500 text-white hover:cursor-pointer",disabled:a,onClick:function(){return n(t+1)},children:"Proximo"})]})}},1048:function(e,t,n){"use strict";n.d(t,{S:function(){return o},t:function(){return c}});var r,a=n(9669),s=n.n(a),i="http://45.79.253.74:3000";r=localStorage.getItem("accessToken");var o=s().create({baseURL:i,headers:{"Content-Type":"application/json"}}),c=s().create({baseURL:i,headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"}})},3188:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(5666),a=n.n(r),s=n(5893),i=n(9008),o=n(1664),c=n(7294),l=n(6673),d=n(1952),u=n(7056),x=function(e){var t=e.id,n=e.title,r=e.description,a=e.rate,i=void 0===a?0:a,c=e.answers,l=void 0===c?0:c,d=e.tags,u=e.date,x=e.closed;return(0,s.jsx)(o.default,{href:"perguntas/".concat(t),children:(0,s.jsxs)("div",{className:"shadow border rounded p-2 flex m-5 text-teal-500 hover:cursor-pointer border-l-8 ".concat(x?"border-l-rose-500":"border-l-teal-500"),children:[(0,s.jsxs)("div",{className:"text-center p-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{children:i}),(0,s.jsx)("p",{className:"text-teal-900 text-sm",children:"Foi Util"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{children:l}),(0,s.jsx)("p",{className:"text-teal-900 text-sm",children:"Respostas"})]})]}),(0,s.jsxs)("div",{className:"flex flex-col flex-1 mx-4",children:[(0,s.jsxs)("div",{className:"flex-1 mb-2",children:[(0,s.jsx)("h2",{className:"text-2xl text-teal-900",children:n}),(0,s.jsx)("p",{children:r})]}),(0,s.jsxs)("div",{className:"pb-2 flex justify-between",children:[(0,s.jsx)("div",{className:"flex flex-wrap",children:d.map((function(e,t){return(0,s.jsx)("span",{className:"bg-teal-900 text-white rounded mb-1 mr-1 p-1 text-xs",children:e},e+t)}))}),(0,s.jsx)("p",{className:"text-right mr-2 text-teal-900",children:new Date(u).toLocaleDateString("pt-br")})]})]})]})})},f=n(2917),h=n(1048);function m(e,t,n,r,a,s,i){try{var o=e[s](i),c=o.value}catch(l){return void n(l)}o.done?t(c):Promise.resolve(c).then(r,a)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(c){a=!0,s=c}finally{try{r||null==o.return||o.return()}finally{if(a)throw s}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var v=function(){var e=c.useContext(f.S),t=e.accessToken,n=e.type,r=p(c.useState([]),2),v=r[0],b=r[1],j=p(c.useState(""),2),g=j[0],w=j[1],N=p(c.useState(1),2),y=N[0],k=N[1],_=p(c.useState(4),1)[0],P=p(c.useState(0),2),S=P[0],C=P[1];return c.useEffect((function(){var e,t=setTimeout((e=a().mark((function e(){var t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g){e.next=8;break}return e.next=3,h.t.get("/question/all?query=".concat(g,"&limit=").concat(_));case 3:t=e.sent.data,C(t.totalPages),b(t.data),e.next=13;break;case 8:return e.next=10,h.t.get("/question/all?limit=".concat(_,"&page=").concat(y).concat(n?"&query=".concat(n):""));case 10:r=e.sent.data,C(r.totalPages),b(r.data);case 13:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function i(e){m(s,r,a,i,o,"next",e)}function o(e){m(s,r,a,i,o,"throw",e)}i(void 0)}))}),200);return function(){return clearTimeout(t)}}),[g,y]),(0,s.jsxs)("div",{className:"h-screen flex flex-col justify-between",children:[(0,s.jsx)(i.default,{children:(0,s.jsx)("title",{children:"Perguntas"})}),(0,s.jsx)(d.Z,{}),(0,s.jsxs)("main",{className:"grow w-full flex flex-col",children:[(0,s.jsx)("input",{placeholder:"Buscar",className:"shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline md:hidden justify-center m-5 mb-2",value:g,onChange:function(e){return w(e.target.value)}}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h1",{className:"text-2xl m-5 text-teal-500 font-bold",children:"Perguntas"}),(0,s.jsx)("input",{placeholder:"Buscar",className:"shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline hidden md:block",onChange:function(e){return w(e.target.value)}}),(0,s.jsx)(o.default,{href:t?"/perguntas/nova":"/entrar",children:(0,s.jsx)("h1",{className:"text-md font-semibold my-3 mx-5 py-2 px-5 border rounded bg-teal-500 text-white hover:cursor-pointer",children:"Nova Pergunta"})})]}),(0,s.jsx)("div",{children:null===v||void 0===v?void 0:v.map((function(e){var t=e._id,n=e.title,r=e.content,a=e.likes,i=e.dislike,o=e.tags,c=e.createdAt,l=e.answers,d=e.closed;return(0,s.jsx)(x,{id:t,title:n,description:r,rate:Number(a-i),tags:o,date:c,answers:l.length,closed:d},t)}))}),(0,s.jsx)(u.Z,{pageNum:y,setPage:k,disable:y>=S})]}),(0,s.jsx)(l.Z,{})]})}}},function(e){e.O(0,[647,774,888,179],(function(){return t=9660,e(e.s=t);var t}));var t=e.O();_N_E=t}]);