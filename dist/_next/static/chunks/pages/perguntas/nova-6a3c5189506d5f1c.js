(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[814],{4895:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/perguntas/nova",function(){return n(3867)}])},6673:function(e,t,n){"use strict";var r=n(5893);n(7294);t.Z=function(){return(0,r.jsx)("div",{className:"text-center bg-teal-500 p-5",children:(0,r.jsx)("p",{className:"font-semibold text-white",children:"2022"})})}},4272:function(e,t,n){"use strict";n.d(t,{Z:function(){return a},I:function(){return o}});var r=n(5893),a=(n(7294),function(e){var t=e.id,n=e.name,a=e.value,o=e.setValue;return(0,r.jsxs)("label",{htmlFor:t,className:"flex items-center cursor-pointer",children:[(0,r.jsx)("div",{className:"ml-3 text-teal-500 font-semibold mr-2",children:n}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"checkbox",id:t,className:"sr-only",checked:a,onChange:function(){return o(!a)}}),(0,r.jsx)("div",{className:"block ".concat(a?"bg-teal-500":"bg-gray-500"," w-14 h-8 rounded-full")}),(0,r.jsx)("div",{className:"dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition"})]})]})}),o=function(e){var t=e.name,n=e.type,a=void 0===n?"text":n,o=e.placeholder,l=e.value,s=e.error,i=e.setValue;return(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-bold mb-2 text-teal-500",htmlFor:"email",children:t}),"textarea"===a?(0,r.jsx)("textarea",{rows:3,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline resize-none ".concat(s&&"border-red-500"),placeholder:o,value:l,onChange:function(e){return i(e.target.value)}}):(0,r.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline ".concat(s&&"border-red-500"),id:o,type:a,placeholder:o,value:l,onChange:function(e){return i(e.target.value)}}),s&&(0,r.jsx)("p",{className:"text-red-500 text-xs italic",children:s})]})}},1048:function(e,t,n){"use strict";n.d(t,{S:function(){return s},t:function(){return i}});var r,a=n(9669),o=n.n(a),l="http://45.79.253.74:3000";r=localStorage.getItem("accessToken");var s=o().create({baseURL:l,headers:{"Content-Type":"application/json"}}),i=o().create({baseURL:l,headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"}})},3867:function(e,t,n){"use strict";n.r(t);var r=n(5666),a=n.n(r),o=n(5893),l=n(3153),s=n(9008),i=n(1163),c=n(7294),u=n(6673),d=n(4272),p=n(1952),f=n(1048);function h(e,t,n,r,a,o,l){try{var s=e[o](l),i=s.value}catch(c){return void n(c)}s.done?t(i):Promise.resolve(i).then(r,a)}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var l,s=e[Symbol.iterator]();!(r=(l=s.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(i){a=!0,o=i}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function m(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t.default=function(){var e,t=x(c.useState(!1),2),n=(t[0],t[1]),r=x(c.useState(""),2),b=r[0],v=r[1],g=x(c.useState(""),2),j=g[0],y=g[1],w=x(c.useState("AQUICULTOR"),2),N=w[0],O=w[1],T=x(c.useState([]),2),k=T[0],A=T[1],C=x(c.useState({}),2),E=C[0],I=C[1],S=function(){var e={};return(b.length<2||""===b)&&(e.title="T\xedtulo inv\xe1lido"),(j.length<2||""===j)&&(e.description="Descri\xe7\xe3o inv\xe1lida"),I(e),e},_=(e=a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!Object.keys(S()).length){e.next=3;break}return e.abrupt("return");case 3:return(r=new FormData).append("title",b),r.append("content",j),r.append("tags[]",N),k.length&&k.forEach((function(e){r.append("files",e)})),e.prev=8,n(!1),e.next=12,f.t.post("/question/",r);case 12:i.default.push("/perguntas"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),console.log(e.t0);case 18:return e.prev=18,n(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[8,15,18,21]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){h(o,r,a,l,s,"next",e)}function s(e){h(o,r,a,l,s,"throw",e)}l(void 0)}))});return(0,o.jsxs)("div",{className:"h-screen flex flex-col",children:[(0,o.jsx)(s.default,{children:(0,o.jsx)("title",{children:"Nova Pergunta"})}),(0,o.jsx)(p.Z,{}),(0,o.jsx)("main",{className:"h-full flex justify-around",children:(0,o.jsx)("div",{className:"w-full max-w-lg",children:(0,o.jsxs)("form",{className:"px-8 pt-6 pb-8 mb-4 mt-10",onSubmit:function(e){_(e)},children:[(0,o.jsx)(d.I,{name:"Titulo",placeholder:"Pergunta 01",value:b,setValue:v,error:E.title}),(0,o.jsx)(d.I,{name:"Descri\xe7\xe3o",placeholder:"Descri\xe7\xe3o da pergunta 01",value:j,setValue:y,error:E.description,type:"textarea"}),(0,o.jsx)("label",{className:"block text-sm font-bold mb-2 text-teal-500",htmlFor:"email",children:"Tag"}),(0,o.jsxs)("select",{value:N,onChange:function(e){return O(e.target.value)},className:" appearance-none block w-full px-3 py-1.5 text-base font-normal text-gray-500 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 mb-3 focus:text-teal-700 focus:bg-white focus:border-teal-500 focus:outline-none",children:[(0,o.jsx)("option",{children:"AQUICULTOR"}),(0,o.jsx)("option",{children:"APICULTOR"}),(0,o.jsx)("option",{children:"AVICULTOR"}),(0,o.jsx)("option",{children:"AGRONOMO"}),(0,o.jsx)("option",{children:"ENGENHEIRO FLORESTAL"}),(0,o.jsx)("option",{children:"PECUARISTA"}),(0,o.jsx)("option",{children:"VETERIN\xc1RIO"}),(0,o.jsx)("option",{children:"ZOOT\xc9CNICO"})]}),(0,o.jsx)("label",{className:"block text-sm font-bold mb-2 text-teal-500",htmlFor:"email",children:"Arquivos"}),(0,o.jsx)("p",{className:"text-center text-teal-500 pb-3",children:k&&"".concat(k.length," arquivos selecionados ")}),(0,o.jsxs)("div",{className:"border-gray-500 relative",children:[(0,o.jsx)("input",{type:"file",multiple:!0,accept:"image/*",className:"cursor-pointer relative block opacity-0 w-full h-full p-10 z-50",onChange:function(e){A(m(e.target.files))}}),(0,o.jsxs)("div",{className:"text-teal-500 absolute top-0 right-0 left-0 m-auto p-5 shadow appearance-none border rounded w-full py-2 px-3 mb-3 leading-tight focus:outline-none focus:shadow-outline text-center flex flex-col items-center justify-center",children:[(0,o.jsx)(l._8t,{className:"w-10"}),(0,o.jsx)("h1",{children:"Selecionar arquivos"})]})]}),(0,o.jsx)("div",{className:"flex items-center justify-between",children:(0,o.jsx)("button",{className:"bg-teal-500 hover:bg-teal-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit",children:"Criar Pergunta"})})]})})}),(0,o.jsx)(u.Z,{})]})}},1163:function(e,t,n){e.exports=n(387)}},function(e){e.O(0,[647,774,888,179],(function(){return t=4895,e(e.s=t);var t}));var t=e.O();_N_E=t}]);